import test from 'tape'
import convertPathToRegex from './converter.js'

test('convert path to regex', (t) => {
  t.equal(convertPathToRegex(''), '')
  t.equal(convertPathToRegex(' '), '')
  t.equal(convertPathToRegex(' x'), 'x')
  t.equal(convertPathToRegex('x '), 'x')
  t.equal(convertPathToRegex(' x '), 'x')
  t.equal(convertPathToRegex('x'), 'x')
  t.equal(convertPathToRegex('/x'), '/x')
  t.equal(convertPathToRegex('/xz'), '/xz')
  t.equal(convertPathToRegex('/x/'), '/x/')
  t.equal(convertPathToRegex('/x/z'), '/x/z')
  t.equal(convertPathToRegex('/x/z/'), '/x/z/')
  t.equal(convertPathToRegex('{'), '.*')
  t.equal(convertPathToRegex('{{'), '.*')
  t.equal(convertPathToRegex('{x}'), '.*')
  t.equal(convertPathToRegex('{{x}}}'), '.*')
  t.equal(convertPathToRegex('a/b/{c}/{d}/e/'), 'a/b/.*/.*/e/')
  t.equal(convertPathToRegex('a/b/:c/:d/e/'), 'a/b/.*/.*/e/')
  t.equal(convertPathToRegex('a/b/1/d-2/e/3fg'), 'a/b/.*/.*/e/.*')
  t.equal(convertPathToRegex('/abc/def/123/ghi'), '/abc/def/.*/ghi')
  t.equal(convertPathToRegex('/abc/DEF/ghi'), '/abc/.*/ghi')
  t.equal(convertPathToRegex('ABC/abc'), '.*/abc')
  t.equal(convertPathToRegex('/orders/01GA59QQ3982T9'), '/orders/.*')
  t.equal(convertPathToRegex('/clients/ABC-123/accounts/ISA'), '/clients/.*/accounts/.*')
  t.end()
})
